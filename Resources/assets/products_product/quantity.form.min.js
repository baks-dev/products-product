executeFunc((function productQuantityForm(){const form=document.forms.all_products_quantity_form;if(typeof form==="undefined"){return false}var object_category=document.getElementById(form.name+"_category");if(object_category===null){return false}object_category.addEventListener("change",(function(){changeObjectCategory(form)}),false);let $addButtonStock=document.getElementById(form.name+"_submit");$addButtonStock.addEventListener("click",(function(e){let $errorFormHandler=null;let header="Изменить количество продукции";if(object_category.value===""){$errorFormHandler=JSON.stringify({type:"danger",header:header,message:"Категория не выбрана"})}if($errorFormHandler){createToast(JSON.parse($errorFormHandler));return false}const data=new FormData(form);if(true===form.checkValidity()){submitModalForm(form)}}));return true}));async function changeObjectCategory(forms){disabledElementsForm(forms);const data=new FormData(forms);data.delete(forms.name+"[_token]");data.delete(forms.name+"[offer]");data.delete(forms.name+"[variation]");data.delete(forms.name+"[modification]");await fetch(forms.action,{method:forms.method,cache:"no-cache",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},redirect:"follow",referrerPolicy:"no-referrer",body:data}).then((response=>{if(response.status!==200){return false}return response.text()})).then((data=>{var parser=new DOMParser;var result=parser.parseFromString(data,"text/html");let replace=document.getElementById(forms.name+"_replace");if(typeof replace==="undefined"){return}replace.classList.remove("d-none");replace.classList.add("d-flex");offer=result.getElementById(forms.name+"_offer");if(offer){document.getElementById(forms.name+"_offer").replaceWith(offer);new NiceSelect(document.getElementById(forms.name+"_offer"),{searchable:true})}variation=result.getElementById(forms.name+"_variation");if(variation){document.getElementById(forms.name+"_variation").replaceWith(variation);new NiceSelect(document.getElementById(forms.name+"_variation"),{searchable:true})}modification=result.getElementById(forms.name+"_modification");if(modification){document.getElementById(forms.name+"_modification").replaceWith(modification);new NiceSelect(document.getElementById(forms.name+"_modification"),{searchable:true})}enableElementsForm(forms)}))}